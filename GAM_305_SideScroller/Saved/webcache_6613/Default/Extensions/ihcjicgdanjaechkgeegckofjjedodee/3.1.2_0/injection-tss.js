try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="31602b62-cd0f-4377-ac48-ccddd2d396b3",e._sentryDebugIdIdentifier="sentry-dbid-31602b62-cd0f-4377-ac48-ccddd2d396b3")}()}catch(e){}(()=>{"use strict";((e,t,n)=>{console.debug(`${n} TSS: hosted page injected`),console.debug(`${n} MBTSS: Nonce: `,e);let o=!1,r=!1,i={},s={},c={},u={};function d({object:t,f:n,subtype:i,detectFunc:s,proxy:c=a,isBrowserlocker:u=!0}){let d=t[n];t[n]=function(){if(o&&!r&&u)throw new Error("Breaking Browser Locker Behavior detected");let t=[].slice.call(arguments);if(!r&&s(t)&&(o=!0),o&&!r&&function(t,n){window.top.postMessage(JSON.parse(JSON.stringify({type:"scam",subtype:t,parameters:n,nonce:e})),"*")}(i,t),o&&!r&&u)throw new Error("Breaking Browser Locker Behavior detected");return c(d,this,t)}}function a(e,t,n){return e.apply(t,n)}function l(e,t,n){return((e,t,n)=>{console.debug(`TSS: Checking if repeated ${n} times for interval ${t} against data: `,e);const o=Date.now();if(e.lastTime)if(o-e.lastTime<t){if(e.lastCount++,e.lastCount>=n)return!0}else e.lastTime=o,e.lastCount=1;else{if(1===n)return e.lastTime=o,e.lastCount=1,!0;e.lastTime=o,e.lastCount=1}return!1})(e,t,n)}function f(e){return console.debug("TSS: Counted history being replaced"),b()}function b(e){return console.debug("TSS: Caught history"),l(i,1e3,500)}d({object:window,f:"print",subtype:"printLoop",detectFunc:function(e){return console.debug("TSS: caught print"),l(s,1e4,3)}}),d({object:window.history,f:"pushState",subtype:"historyLoop",detectFunc:function(e){return console.debug("TSS: Counted history being pushed"),b()}}),window.setTimeout(function(){d({object:window.history,f:"replaceState",subtype:"historyLoop",detectFunc:f})},2e3),d({object:URL,f:"createObjectURL",subtype:"createURLLoop",detectFunc:function(e){return console.debug("TSS: Caught create URL"),l(c,1e3,500)}}),window.chrome&&window.chrome.webstore&&d({object:chrome.webstore,f:"install",subtype:"extensionInstall",detectFunc:function(e){return console.debug("TSS: Caught webstore install"),!0},isBrowserlocker:!1}),window.Notification&&d({object:window.Notification,f:"requestPermission",subtype:"notificationLoop",detectFunc:function(e){return console.debug("TSS: Caught notification permission request"),l(u,5e3,2)},isBrowserlocker:!1}),window.addEventListener("message",function(t){t.source===window&&t.data.nonce===e&&"exclude"===t.data.type&&(r=!0)},!1)})(new URLSearchParams(document.currentScript.src.split("?")[1]).get("nonce"),0,"injection-tss")})();
//# sourceMappingURL=injection-tss.js.map